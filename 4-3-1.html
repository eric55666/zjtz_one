<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¬å¸è´¢åŠ¡ä¾¦æ¢ - è´¢åŠ¡æŠ¥è¡¨åˆ†æä¸ä¼°å€¼æ¨¡æ‹Ÿ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #34495e;
            --success: #2ecc71;
            --warning: #f39c12;
            --income: #2ecc71;
            --balance: #3498db;
            --cashflow: #9b59b6;
            --manufacturing: #3498db;
            --technology: #9b59b6;
            --healthcare: #2ecc71;
            --consumer: #e67e22;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            background: white;
            border-radius: 10px 10px 0 0;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: var(--light);
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .tab.active {
            background: var(--secondary);
            color: white;
        }
        
        .tab-content {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .panel {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }
        
        .panel-title {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light);
        }
        
        .company-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .company-card {
            background: var(--light);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }
        
        .company-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .company-card.active {
            border-color: var(--secondary);
            background: rgba(52, 152, 219, 0.1);
        }
        
        .company-card.manufacturing {
            border-left: 4px solid var(--manufacturing);
        }
        
        .company-card.technology {
            border-left: 4px solid var(--technology);
        }
        
        .company-card.healthcare {
            border-left: 4px solid var(--healthcare);
        }
        
        .company-card.consumer {
            border-left: 4px solid var(--consumer);
        }
        
        .company-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .company-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .company-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        .financial-statements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .statement-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }
        
        .statement-card.income {
            border-top: 4px solid var(--income);
        }
        
        .statement-card.balance {
            border-top: 4px solid var(--balance);
        }
        
        .statement-card.cashflow {
            border-top: 4px solid var(--cashflow);
        }
        
        .statement-card:hover {
            transform: translateY(-5px);
        }
        
        .statement-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .statement-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .statement-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: var(--primary);
        }
        
        .valuation-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .valuation-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s;
        }
        
        .valuation-card:hover {
            transform: translateY(-5px);
        }
        
        .valuation-title {
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
        }
        
        .valuation-formula {
            background: var(--light);
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 15px;
            font-family: monospace;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: var(--primary);
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-accent {
            background: var(--accent);
        }
        
        .analysis-result {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .result-score {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .result-description {
            margin-bottom: 15px;
        }
        
        .red-flags {
            background: rgba(231, 76, 60, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--accent);
        }
        
        .chart-container {
            height: 400px;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            padding: 15px;
        }
        
        .risk-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .risk-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .risk-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .risk-description {
            font-size: 0.9rem;
            color: #666;
        }
        
        .instructions {
            background: var(--light);
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .instructions h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .instructions ol {
            padding-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
        }
        
        .valuation-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .summary-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .summary-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .summary-value {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        @media (max-width: 768px) {
            .company-selection {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .financial-statements {
                grid-template-columns: 1fr;
            }
            
            .valuation-methods {
                grid-template-columns: 1fr;
            }
            
            .risk-indicators {
                grid-template-columns: 1fr;
            }
            
            .valuation-summary {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>å…¬å¸è´¢åŠ¡ä¾¦æ¢</h1>
            <p class="subtitle">åˆ†æä¸Šå¸‚å…¬å¸è´¢åŠ¡æŠ¥è¡¨ | ä½¿ç”¨ä¼°å€¼æ–¹æ³•è¯„ä¼°å…¬å¸ä»·å€¼ | è¯†åˆ«è´¢åŠ¡é£é™©</p>
        </header>
        
        <div class="tabs">
            <button class="tab active" data-tab="financial-analysis">è´¢åŠ¡æŠ¥è¡¨åˆ†æ</button>
            <button class="tab" data-tab="valuation">å…¬å¸ä¼°å€¼</button>
            <button class="tab" data-tab="risk-assessment">é£é™©è¯†åˆ«</button>
            <button class="tab" data-tab="case-study">ç‘å¹¸å’–å•¡æ¡ˆä¾‹</button>
        </div>
        
        <div id="financial-analysis" class="tab-content active">
            <div class="panel">
                <h2 class="panel-title">é€‰æ‹©åˆ†æå…¬å¸</h2>
                <p>é€‰æ‹©ä¸€å®¶å…¬å¸ï¼Œåˆ†æå…¶è´¢åŠ¡æŠ¥è¡¨å¹¶è®¡ç®—å…³é”®è´¢åŠ¡æ¯”ç‡ã€‚</p>
                
                <div class="company-selection">
                    <div class="company-card manufacturing active" data-company="luckin">
                        <div class="company-icon">â˜•</div>
                        <div class="company-name">ç‘å¹¸å’–å•¡</div>
                        <div class="company-description">å¿«é€Ÿæ‰©å¼ çš„å’–å•¡è¿é”å“ç‰Œï¼Œæ›¾å› è´¢åŠ¡é€ å‡é—»å</div>
                    </div>
                    
                    <div class="company-card technology" data-company="apple">
                        <div class="company-icon">ğŸ“±</div>
                        <div class="company-name">è‹¹æœå…¬å¸</div>
                        <div class="company-description">å…¨çƒé¢†å…ˆçš„ç§‘æŠ€å…¬å¸ï¼Œäº§å“åŒ…æ‹¬iPhoneã€iPadç­‰</div>
                    </div>
                    
                    <div class="company-card healthcare" data-company="tesla">
                        <div class="company-icon">ğŸš—</div>
                        <div class="company-name">ç‰¹æ–¯æ‹‰</div>
                        <div class="company-description">ç”µåŠ¨æ±½è½¦å’Œæ¸…æ´èƒ½æºå…¬å¸ï¼Œé¢ è¦†ä¼ ç»Ÿæ±½è½¦è¡Œä¸š</div>
                    </div>
                    
                    <div class="company-card consumer" data-company="coca-cola">
                        <div class="company-icon">ğŸ¥¤</div>
                        <div class="company-name">å¯å£å¯ä¹</div>
                        <div class="company-description">å…¨çƒçŸ¥åé¥®æ–™å…¬å¸ï¼Œæ‹¥æœ‰å¼ºå¤§çš„å“ç‰Œä»·å€¼</div>
                    </div>
                </div>
                
                <div class="panel">
                    <h2 class="panel-title" id="selected-company-name">ç‘å¹¸å’–å•¡ - è´¢åŠ¡æŠ¥è¡¨åˆ†æ</h2>
                    <p>åˆ†æå…¬å¸çš„ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨ï¼Œè¯†åˆ«å…³é”®è´¢åŠ¡æŒ‡æ ‡ã€‚</p>
                    
                    <div class="financial-statements">
                        <div class="statement-card income">
                            <div class="statement-title">åˆ©æ¶¦è¡¨ (2022å¹´)</div>
                            <div id="income-statement">
                                <!-- åˆ©æ¶¦è¡¨æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <div class="statement-card balance">
                            <div class="statement-title">èµ„äº§è´Ÿå€ºè¡¨ (2022å¹´æœ«)</div>
                            <div id="balance-sheet">
                                <!-- èµ„äº§è´Ÿå€ºè¡¨æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <div class="statement-card cashflow">
                            <div class="statement-title">ç°é‡‘æµé‡è¡¨ (2022å¹´)</div>
                            <div id="cashflow-statement">
                                <!-- ç°é‡‘æµé‡è¡¨æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel">
                        <h3>å…³é”®è´¢åŠ¡æ¯”ç‡åˆ†æ</h3>
                        <div class="financial-statements">
                            <div class="statement-card">
                                <div class="statement-title">ç›ˆåˆ©èƒ½åŠ›æ¯”ç‡</div>
                                <div id="profitability-ratios">
                                    <!-- ç›ˆåˆ©èƒ½åŠ›æ¯”ç‡æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                                </div>
                            </div>
                            
                            <div class="statement-card">
                                <div class="statement-title">å¿å€ºèƒ½åŠ›æ¯”ç‡</div>
                                <div id="solvency-ratios">
                                    <!-- å¿å€ºèƒ½åŠ›æ¯”ç‡æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                                </div>
                            </div>
                            
                            <div class="statement-card">
                                <div class="statement-title">è¥è¿èƒ½åŠ›æ¯”ç‡</div>
                                <div id="efficiency-ratios">
                                    <!-- è¥è¿èƒ½åŠ›æ¯”ç‡æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn" id="analyze-financials" style="margin-top: 20px;">åˆ†æè´¢åŠ¡å¥åº·çŠ¶å†µ</button>
                    
                    <div class="analysis-result" id="financial-analysis-result" style="display: none;">
                        <div class="result-score" id="financial-health-score">è´¢åŠ¡å¥åº·è¯„åˆ†: --/100</div>
                        <div class="result-description" id="financial-health-description"></div>
                        
                        <div class="red-flags">
                            <h3>æ½œåœ¨é£é™©ä¿¡å·</h3>
                            <div id="risk-signals"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="valuation" class="tab-content">
            <div class="panel">
                <h2 class="panel-title">å…¬å¸ä¼°å€¼æ–¹æ³•</h2>
                <p>ä½¿ç”¨ä¸åŒçš„ä¼°å€¼æ–¹æ³•è¯„ä¼°å…¬å¸ä»·å€¼ï¼Œæ¯”è¾ƒç»“æœã€‚</p>
                
                <div class="valuation-methods">
                    <div class="valuation-card">
                        <div class="valuation-title">è‚¡åˆ©è´´ç°æ¨¡å‹ (DDM)</div>
                        <div class="valuation-formula">P = D / (r - g)</div>
                        <div class="form-group">
                            <label for="dividend">é¢„æœŸå¹´åº¦è‚¡åˆ© (D)</label>
                            <input type="number" id="dividend" value="0.5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="discount-rate">å¿…è¦æ”¶ç›Šç‡ (r)</label>
                            <input type="number" id="discount-rate" value="10" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="growth-rate">è‚¡åˆ©å¢é•¿ç‡ (g)</label>
                            <input type="number" id="growth-rate" value="3" step="0.1">
                        </div>
                        <button class="btn" id="calculate-ddm">è®¡ç®—ä»·å€¼</button>
                        <div class="result-description" id="ddm-result" style="margin-top: 15px;"></div>
                    </div>
                    
                    <div class="valuation-card">
                        <div class="valuation-title">å¸‚ç›ˆç‡æ³• (P/E)</div>
                        <div class="valuation-formula">P = EPS Ã— P/E Ratio</div>
                        <div class="form-group">
                            <label for="eps">æ¯è‚¡æ”¶ç›Š (EPS)</label>
                            <input type="number" id="eps" value="1.2" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="pe-ratio">è¡Œä¸šå¹³å‡å¸‚ç›ˆç‡</label>
                            <input type="number" id="pe-ratio" value="25" step="0.1">
                        </div>
                        <button class="btn" id="calculate-pe">è®¡ç®—ä»·å€¼</button>
                        <div class="result-description" id="pe-result" style="margin-top: 15px;"></div>
                    </div>
                    
                    <div class="valuation-card">
                        <div class="valuation-title">è‡ªç”±ç°é‡‘æµæŠ˜ç°æ³• (DCF)</div>
                        <div class="valuation-formula">P = âˆ‘ [FCF / (1+r)^t]</div>
                        <div class="form-group">
                            <label for="fcf">è‡ªç”±ç°é‡‘æµ (FCF)</label>
                            <input type="number" id="fcf" value="2.5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="dcf-growth">ç°é‡‘æµå¢é•¿ç‡</label>
                            <input type="number" id="dcf-growth" value="5" step="0.1">
                        </div>
                        <div class="form-group">
                            <label for="dcf-discount">æŠ˜ç°ç‡</label>
                            <input type="number" id="dcf-discount" value="9" step="0.1">
                        </div>
                        <button class="btn" id="calculate-dcf">è®¡ç®—ä»·å€¼</button>
                        <div class="result-description" id="dcf-result" style="margin-top: 15px;"></div>
                    </div>
                </div>
                
                <div class="valuation-summary" id="valuation-summary">
                    <!-- ä¼°å€¼æ±‡æ€»å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="chart-container">
                    <canvas id="valuation-chart"></canvas>
                </div>
            </div>
        </div>
        
        <div id="risk-assessment" class="tab-content">
            <div class="panel">
                <h2 class="panel-title">è´¢åŠ¡é£é™©è¯†åˆ«</h2>
                <p>è¯†åˆ«å’Œåˆ†æå…¬å¸è´¢åŠ¡æŠ¥è¡¨ä¸­çš„æ½œåœ¨é£é™©ä¿¡å·ã€‚</p>
                
                <div class="risk-indicators">
                    <div class="risk-card">
                        <div class="risk-title">ç›ˆåˆ©èƒ½åŠ›é£é™©</div>
                        <div class="risk-description">
                            è¿ç»­äºæŸã€æ¯›åˆ©ç‡ä¸‹é™ã€å‡€åˆ©æ¶¦æ³¢åŠ¨å¤§ã€ROE/ROAæŒç»­ä¸‹é™
                        </div>
                    </div>
                    
                    <div class="risk-card">
                        <div class="risk-title">å¿å€ºèƒ½åŠ›é£é™©</div>
                        <div class="risk-description">
                            é«˜è´Ÿå€ºç‡ã€æµåŠ¨æ¯”ç‡ä½ã€åˆ©æ¯ä¿éšœå€æ•°ä¸è¶³ã€çŸ­æœŸå€ºåŠ¡å æ¯”é«˜
                        </div>
                    </div>
                    
                    <div class="risk-card">
                        <div class="risk-title">ç°é‡‘æµé£é™©</div>
                        <div class="risk-description">
                            ç»è¥æ´»åŠ¨ç°é‡‘æµä¸ºè´Ÿã€ç°é‡‘æµä¸åˆ©æ¶¦ä¸åŒ¹é…ã€ä¾èµ–èèµ„æ´»åŠ¨ç°é‡‘æµ
                        </div>
                    </div>
                    
                    <div class="risk-card">
                        <div class="risk-title">è¿è¥æ•ˆç‡é£é™©</div>
                        <div class="risk-description">
                            èµ„äº§å‘¨è½¬ç‡ä½ã€åº”æ”¶è´¦æ¬¾å›æ”¶æ…¢ã€å­˜è´§ç§¯å‹ã€è¥è¿èµ„æœ¬ç®¡ç†ä¸å–„
                        </div>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>é£é™©è¯†åˆ«ç»ƒä¹ </h3>
                    <p>æ ¹æ®ä»¥ä¸‹è´¢åŠ¡æƒ…æ™¯ï¼Œè¯†åˆ«æ½œåœ¨çš„è´¢åŠ¡é£é™©ï¼š</p>
                    
                    <div class="analysis-result" style="margin-top: 15px;">
                        <div class="result-description">
                            <p><strong>æƒ…æ™¯1ï¼š</strong> æŸå…¬å¸è¿ç»­ä¸‰å¹´è¥ä¸šæ”¶å…¥å¢é•¿è¶…è¿‡50%ï¼Œä½†ç»è¥æ´»åŠ¨ç°é‡‘æµæŒç»­ä¸ºè´Ÿï¼Œä¸”åº”æ”¶è´¦æ¬¾å¤§å¹…å¢åŠ ã€‚</p>
                            <div class="form-group">
                                <label>è¿™åæ˜ äº†ä»€ä¹ˆé£é™©ï¼Ÿ</label>
                                <select id="risk-question-1">
                                    <option value="">è¯·é€‰æ‹©...</option>
                                    <option value="profitability">ç›ˆåˆ©èƒ½åŠ›é£é™©</option>
                                    <option value="cashflow" data-correct="true">ç°é‡‘æµé£é™©</option>
                                    <option value="solvency">å¿å€ºèƒ½åŠ›é£é™©</option>
                                    <option value="efficiency">è¿è¥æ•ˆç‡é£é™©</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="result-description" style="margin-top: 15px;">
                            <p><strong>æƒ…æ™¯2ï¼š</strong> æŸå…¬å¸èµ„äº§è´Ÿå€ºç‡é«˜è¾¾85%ï¼ŒæµåŠ¨æ¯”ç‡ä»…ä¸º0.8ï¼Œä¸”åˆ©æ¯ä¿éšœå€æ•°ä¸ºè´Ÿæ•°ã€‚</p>
                            <div class="form-group">
                                <label>è¿™åæ˜ äº†ä»€ä¹ˆé£é™©ï¼Ÿ</label>
                                <select id="risk-question-2">
                                    <option value="">è¯·é€‰æ‹©...</option>
                                    <option value="profitability">ç›ˆåˆ©èƒ½åŠ›é£é™©</option>
                                    <option value="cashflow">ç°é‡‘æµé£é™©</option>
                                    <option value="solvency" data-correct="true">å¿å€ºèƒ½åŠ›é£é™©</option>
                                    <option value="efficiency">è¿è¥æ•ˆç‡é£é™©</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="result-description" style="margin-top: 15px;">
                            <p><strong>æƒ…æ™¯3ï¼š</strong> æŸå…¬å¸æ¯›åˆ©ç‡ä»35%ä¸‹é™è‡³15%ï¼Œå‡€åˆ©æ¶¦ç‡ä»12%ä¸‹é™è‡³2%ï¼ŒROEä»18%ä¸‹é™è‡³5%ã€‚</p>
                            <div class="form-group">
                                <label>è¿™åæ˜ äº†ä»€ä¹ˆé£é™©ï¼Ÿ</label>
                                <select id="risk-question-3">
                                    <option value="">è¯·é€‰æ‹©...</option>
                                    <option value="profitability" data-correct="true">ç›ˆåˆ©èƒ½åŠ›é£é™©</option>
                                    <option value="cashflow">ç°é‡‘æµé£é™©</option>
                                    <option value="solvency">å¿å€ºèƒ½åŠ›é£é™©</option>
                                    <option value="efficiency">è¿è¥æ•ˆç‡é£é™©</option>
                                </select>
                            </div>
                        </div>
                        
                        <button class="btn" id="check-risk-answers" style="margin-top: 15px;">æ£€æŸ¥ç­”æ¡ˆ</button>
                        
                        <div class="result-description" id="risk-answers-result" style="display: none; margin-top: 15px;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="case-study" class="tab-content">
            <div class="panel">
                <h2 class="panel-title">ç‘å¹¸å’–å•¡è´¢åŠ¡é€ å‡æ¡ˆä¾‹åˆ†æ</h2>
                <p>åˆ†æç‘å¹¸å’–å•¡è´¢åŠ¡é€ å‡äº‹ä»¶ï¼Œå­¦ä¹ è¯†åˆ«è´¢åŠ¡æ¬ºè¯ˆçš„æ–¹æ³•ã€‚</p>
                
                <div class="panel">
                    <h3>æ¡ˆä¾‹èƒŒæ™¯</h3>
                    <div class="result-description">
                        <p>ç‘å¹¸å’–å•¡æˆç«‹äº2017å¹´ï¼Œä»¥å¿«é€Ÿæ‰©å¼ å’Œä½ä»·ç­–ç•¥è¿…é€Ÿå é¢†ä¸­å›½å¸‚åœºã€‚2020å¹´4æœˆï¼Œå…¬å¸è‡ªæ›è´¢åŠ¡é€ å‡ï¼Œæ‰¿è®¤2019å¹´ç¬¬äºŒå­£åº¦è‡³ç¬¬å››å­£åº¦è™šå¢äº†çº¦22äº¿å…ƒäººæ°‘å¸çš„äº¤æ˜“é¢ã€‚</p>
                        
                        <p><strong>é€ å‡æ‰‹æ®µï¼š</strong></p>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            <li>è™šæ„äº¤æ˜“ï¼šé€šè¿‡å…³è”æ–¹ä¼ªé€ é”€å”®äº¤æ˜“</li>
                            <li>è™šå¢æ”¶å…¥ï¼šå¤¸å¤§é”€å”®é¢å’Œé—¨åº—é”€é‡</li>
                            <li>è™šå‡æˆæœ¬ï¼šå°‘æŠ¥è¥é”€å’Œè¿è¥è´¹ç”¨</li>
                            <li>ä¼ªé€ ç°é‡‘æµï¼šé€šè¿‡å¤æ‚äº¤æ˜“ç»“æ„ä¼ªé€ ç°é‡‘æµ</li>
                        </ul>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>é€ å‡å‰çš„è´¢åŠ¡å¼‚å¸¸ä¿¡å·</h3>
                    <div class="financial-statements">
                        <div class="statement-card">
                            <div class="statement-title">æ”¶å…¥å¼‚å¸¸</div>
                            <div class="statement-item">
                                <span>å•åº—æ—¥å‡é”€é‡</span>
                                <span>263ä»¶ (è™šæŠ¥)</span>
                            </div>
                            <div class="statement-item">
                                <span>å®é™…å•åº—æ—¥å‡é”€é‡</span>
                                <span>çº¦100ä»¶ (å®é™…)</span>
                            </div>
                            <div class="statement-item">
                                <span>æ”¶å…¥å¢é•¿ç‡</span>
                                <span>å¼‚å¸¸é«˜ (>500%)</span>
                            </div>
                        </div>
                        
                        <div class="statement-card">
                            <div class="statement-title">ç°é‡‘æµå¼‚å¸¸</div>
                            <div class="statement-item">
                                <span>ç»è¥æ´»åŠ¨ç°é‡‘æµ</span>
                                <span>-12.3äº¿å…ƒ</span>
                            </div>
                            <div class="statement-item">
                                <span>å‡€åˆ©æ¶¦</span>
                                <span>-31.6äº¿å…ƒ</span>
                            </div>
                            <div class="statement-item">
                                <span>ç°é‡‘æµ/åˆ©æ¶¦å·®å¼‚</span>
                                <span>å·¨å¤§å·®å¼‚</span>
                            </div>
                        </div>
                        
                        <div class="statement-card">
                            <div class="statement-title">è¿è¥æŒ‡æ ‡å¼‚å¸¸</div>
                            <div class="statement-item">
                                <span>å•æ¯æˆæœ¬</span>
                                <span>è¿œä½äºè¡Œä¸š</span>
                            </div>
                            <div class="statement-item">
                                <span>æŠ˜æ‰£ç‡</span>
                                <span>å¼‚å¸¸é«˜ (>50%)</span>
                            </div>
                            <div class="statement-item">
                                <span>å®¢æˆ·å¤è´­ç‡</span>
                                <span>ä¸æ”¶å…¥ä¸åŒ¹é…</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="panel">
                    <h3>è¯†åˆ«è´¢åŠ¡é€ å‡çš„è­¦ç¤ºä¿¡å·</h3>
                    <div class="risk-indicators">
                        <div class="risk-card">
                            <div class="risk-title">è´¢åŠ¡æŒ‡æ ‡å¼‚å¸¸</div>
                            <div class="risk-description">
                                æ”¶å…¥å¢é•¿ä¸è¡Œä¸šè¶‹åŠ¿ä¸ç¬¦ã€æ¯›åˆ©ç‡å¼‚å¸¸é«˜ã€ç°é‡‘æµä¸åˆ©æ¶¦ä¸åŒ¹é…
                            </div>
                        </div>
                        
                        <div class="risk-card">
                            <div class="risk-title">è¿è¥æ•°æ®çŸ›ç›¾</div>
                            <div class="risk-description">
                                å•åº—é”€é‡ä¸å®¢å•ä»·ä¸åŒ¹é…ã€å®¢æˆ·æ•°é‡ä¸æ”¶å…¥å¢é•¿ä¸ä¸€è‡´
                            </div>
                        </div>
                        
                        <div class="risk-card">
                            <div class="risk-title">å…³è”æ–¹äº¤æ˜“</div>
                            <div class="risk-description">
                                ä¸å…³è”æ–¹çš„å¤§é‡äº¤æ˜“ã€äº¤æ˜“ä»·æ ¼ä¸å…¬å…ã€äº¤æ˜“ç¼ºä¹å•†ä¸šå®è´¨
                            </div>
                        </div>
                        
                        <div class="risk-card">
                            <div class="risk-title">å®¡è®¡é—®é¢˜</div>
                            <div class="risk-description">
                                é¢‘ç¹æ›´æ¢å®¡è®¡å¸ˆã€å®¡è®¡æ„è§å¼‚å¸¸ã€å†…éƒ¨æ§åˆ¶ç¼ºé™·
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="analysis-result">
                    <div class="result-score">æ¡ˆä¾‹å­¦ä¹ è¦ç‚¹</div>
                    <div class="result-description">
                        <p>1. <strong>äº¤å‰éªŒè¯ï¼š</strong> è´¢åŠ¡æ•°æ®åº”ä¸è¿è¥æ•°æ®ã€è¡Œä¸šè¶‹åŠ¿å’Œå®è§‚ç»æµç¯å¢ƒä¸€è‡´</p>
                        <p>2. <strong>å…³æ³¨ç°é‡‘æµï¼š</strong> åˆ©æ¶¦å¯ä»¥æ“çºµï¼Œä½†ç°é‡‘æµæ›´éš¾ä¼ªé€ ï¼Œå…³æ³¨ç°é‡‘æµä¸åˆ©æ¶¦çš„å·®å¼‚</p>
                        <p>3. <strong>åˆ†æä¸šåŠ¡æ¨¡å¼ï¼š</strong> ç†è§£å…¬å¸çš„å•†ä¸šæ¨¡å¼å’Œç›ˆåˆ©é€»è¾‘ï¼Œåˆ¤æ–­è´¢åŠ¡æ•°æ®æ˜¯å¦åˆç†</p>
                        <p>4. <strong>è­¦æƒ•å¼‚å¸¸å¢é•¿ï¼š</strong> å¼‚å¸¸é«˜çš„å¢é•¿ç‡å¯èƒ½æ„å‘³ç€è´¢åŠ¡æ“çºµï¼Œç‰¹åˆ«æ˜¯å½“ä¸è¡Œä¸šè¶‹åŠ¿ä¸ç¬¦æ—¶</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>å­¦ä¹ ç›®æ ‡</h3>
            <ol>
                <li>ç†è§£ä¸‰å¤§è´¢åŠ¡æŠ¥è¡¨ï¼ˆåˆ©æ¶¦è¡¨ã€èµ„äº§è´Ÿå€ºè¡¨ã€ç°é‡‘æµé‡è¡¨ï¼‰çš„ç»“æ„å’Œå†…å®¹</li>
                <li>æŒæ¡å…³é”®è´¢åŠ¡æ¯”ç‡çš„è®¡ç®—æ–¹æ³•å’Œåˆ†ææ„ä¹‰</li>
                <li>å­¦ä¼šä½¿ç”¨ä¸»è¦ä¼°å€¼æ–¹æ³•ï¼ˆDDMã€P/Eã€DCFï¼‰è¯„ä¼°å…¬å¸ä»·å€¼</li>
                <li>èƒ½å¤Ÿè¯†åˆ«è´¢åŠ¡æŠ¥è¡¨ä¸­çš„æ½œåœ¨é£é™©å’Œå¼‚å¸¸ä¿¡å·</li>
                <li>é€šè¿‡æ¡ˆä¾‹åˆ†æç†è§£è´¢åŠ¡é€ å‡çš„å¸¸è§æ‰‹æ®µå’Œè¯†åˆ«æ–¹æ³•</li>
            </ol>
            <p><strong>å­¦ä¹ é‡ç‚¹ï¼š</strong>é€šè¿‡å…¬å¸è´¢åŠ¡ä¾¦æ¢æ¨¡æ‹Ÿï¼Œæ·±å…¥ç†è§£è´¢åŠ¡æŠ¥è¡¨åˆ†æã€å…¬å¸ä¼°å€¼å’Œé£é™©è¯†åˆ«ï¼ŒåŸ¹å…»åŸºäºè´¢åŠ¡åˆ†æçš„æŠ•èµ„å†³ç­–èƒ½åŠ›ã€‚</p>
        </div>
    </div>

    <script>
        // å…¬å¸æ•°æ®
        const companies = {
            'luckin': {
                name: 'ç‘å¹¸å’–å•¡',
                description: 'å¿«é€Ÿæ‰©å¼ çš„å’–å•¡è¿é”å“ç‰Œï¼Œæ›¾å› è´¢åŠ¡é€ å‡é—»å',
                financials: {
                    // åˆ©æ¶¦è¡¨æ•°æ® (äº¿å…ƒ)
                    revenue: 13.2,
                    operatingCosts: 9.8,
                    grossProfit: 3.4,
                    operatingExpenses: 4.1,
                    operatingProfit: -0.7,
                    netIncome: -0.5,
                    
                    // èµ„äº§è´Ÿå€ºè¡¨æ•°æ® (äº¿å…ƒ)
                    cash: 5.2,
                    receivables: 1.8,
                    inventory: 0.9,
                    fixedAssets: 8.7,
                    totalAssets: 16.6,
                    totalLiabilities: 12.3,
                    equity: 4.3,
                    
                    // ç°é‡‘æµé‡è¡¨æ•°æ® (äº¿å…ƒ)
                    operatingCashFlow: -0.3,
                    investingCashFlow: -2.1,
                    financingCashFlow: 2.5,
                    netCashChange: 0.1,
                    
                    // è´¢åŠ¡æ¯”ç‡
                    grossMargin: 25.8,
                    netMargin: -3.8,
                    roe: -11.6,
                    roa: -3.0,
                    currentRatio: 1.2,
                    quickRatio: 0.9,
                    debtRatio: 74.1,
                    interestCoverage: -2.5,
                    receivablesTurnover: 7.3,
                    inventoryTurnover: 10.9,
                    assetTurnover: 0.8
                }
            },
            'apple': {
                name: 'è‹¹æœå…¬å¸',
                description: 'å…¨çƒé¢†å…ˆçš„ç§‘æŠ€å…¬å¸ï¼Œäº§å“åŒ…æ‹¬iPhoneã€iPadç­‰',
                financials: {
                    // åˆ©æ¶¦è¡¨æ•°æ® (äº¿å…ƒ)
                    revenue: 365.8,
                    operatingCosts: 215.4,
                    grossProfit: 150.4,
                    operatingExpenses: 55.7,
                    operatingProfit: 94.7,
                    netIncome: 94.7,
                    
                    // èµ„äº§è´Ÿå€ºè¡¨æ•°æ® (äº¿å…ƒ)
                    cash: 48.3,
                    receivables: 21.5,
                    inventory: 6.4,
                    fixedAssets: 42.5,
                    totalAssets: 351.0,
                    totalLiabilities: 258.5,
                    equity: 92.5,
                    
                    // ç°é‡‘æµé‡è¡¨æ•°æ® (äº¿å…ƒ)
                    operatingCashFlow: 104.0,
                    investingCashFlow: -45.6,
                    financingCashFlow: -58.4,
                    netCashChange: 0.0,
                    
                    // è´¢åŠ¡æ¯”ç‡
                    grossMargin: 41.1,
                    netMargin: 25.9,
                    roe: 102.4,
                    roa: 27.0,
                    currentRatio: 1.1,
                    quickRatio: 1.0,
                    debtRatio: 73.7,
                    interestCoverage: 18.5,
                    receivablesTurnover: 17.0,
                    inventoryTurnover: 33.7,
                    assetTurnover: 1.04
                }
            },
            'tesla': {
                name: 'ç‰¹æ–¯æ‹‰',
                description: 'ç”µåŠ¨æ±½è½¦å’Œæ¸…æ´èƒ½æºå…¬å¸ï¼Œé¢ è¦†ä¼ ç»Ÿæ±½è½¦è¡Œä¸š',
                financials: {
                    // åˆ©æ¶¦è¡¨æ•°æ® (äº¿å…ƒ)
                    revenue: 81.5,
                    operatingCosts: 62.1,
                    grossProfit: 19.4,
                    operatingExpenses: 6.8,
                    operatingProfit: 12.6,
                    netIncome: 12.6,
                    
                    // èµ„äº§è´Ÿå€ºè¡¨æ•°æ® (äº¿å…ƒ)
                    cash: 18.9,
                    receivables: 3.2,
                    inventory: 5.8,
                    fixedAssets: 28.7,
                    totalAssets: 82.3,
                    totalLiabilities: 28.5,
                    equity: 53.8,
                    
                    // ç°é‡‘æµé‡è¡¨æ•°æ® (äº¿å…ƒ)
                    operatingCashFlow: 8.9,
                    investingCashFlow: -15.2,
                    financingCashFlow: 6.3,
                    netCashChange: 0.0,
                    
                    // è´¢åŠ¡æ¯”ç‡
                    grossMargin: 23.8,
                    netMargin: 15.5,
                    roe: 23.4,
                    roa: 15.3,
                    currentRatio: 1.5,
                    quickRatio: 1.3,
                    debtRatio: 34.6,
                    interestCoverage: 8.2,
                    receivablesTurnover: 25.5,
                    inventoryTurnover: 10.7,
                    assetTurnover: 0.99
                }
            },
            'coca-cola': {
                name: 'å¯å£å¯ä¹',
                description: 'å…¨çƒçŸ¥åé¥®æ–™å…¬å¸ï¼Œæ‹¥æœ‰å¼ºå¤§çš„å“ç‰Œä»·å€¼',
                financials: {
                    // åˆ©æ¶¦è¡¨æ•°æ® (äº¿å…ƒ)
                    revenue: 43.0,
                    operatingCosts: 17.2,
                    grossProfit: 25.8,
                    operatingExpenses: 16.3,
                    operatingProfit: 9.5,
                    netIncome: 9.5,
                    
                    // èµ„äº§è´Ÿå€ºè¡¨æ•°æ® (äº¿å…ƒ)
                    cash: 9.8,
                    receivables: 3.5,
                    inventory: 3.2,
                    fixedAssets: 15.6,
                    totalAssets: 92.7,
                    totalLiabilities: 69.2,
                    equity: 23.5,
                    
                    // ç°é‡‘æµé‡è¡¨æ•°æ® (äº¿å…ƒ)
                    operatingCashFlow: 11.2,
                    investingCashFlow: -4.8,
                    financingCashFlow: -6.4,
                    netCashChange: 0.0,
                    
                    // è´¢åŠ¡æ¯”ç‡
                    grossMargin: 60.0,
                    netMargin: 22.1,
                    roe: 40.4,
                    roa: 10.3,
                    currentRatio: 1.3,
                    quickRatio: 1.1,
                    debtRatio: 74.6,
                    interestCoverage: 12.8,
                    receivablesTurnover: 12.3,
                    inventoryTurnover: 5.4,
                    assetTurnover: 0.46
                }
            }
        };
        
        let currentCompany = 'luckin';
        let valuationChart;
        let valuationResults = {
            ddm: null,
            pe: null,
            dcf: null
        };
        
        // åˆå§‹åŒ–å‡½æ•°
        function init() {
            // æ ‡ç­¾é¡µåˆ‡æ¢
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // å…¬å¸é€‰æ‹©
            document.querySelectorAll('.company-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.company-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    
                    currentCompany = this.getAttribute('data-company');
                    const company = companies[currentCompany];
                    
                    document.getElementById('selected-company-name').textContent = `${company.name} - è´¢åŠ¡æŠ¥è¡¨åˆ†æ`;
                    
                    // æ›´æ–°è´¢åŠ¡æŠ¥è¡¨æ•°æ®
                    updateFinancialStatements(company.financials);
                    
                    // æ›´æ–°è´¢åŠ¡æ¯”ç‡
                    updateFinancialRatios(company.financials);
                });
            });
            
            // åˆ†æè´¢åŠ¡å¥åº·çŠ¶å†µ
            document.getElementById('analyze-financials').addEventListener('click', function() {
                const company = companies[currentCompany];
                const score = calculateFinancialHealthScore(company.financials);
                const description = getFinancialHealthDescription(score);
                const riskSignals = getRiskSignals(company.financials);
                
                document.getElementById('financial-health-score').textContent = `è´¢åŠ¡å¥åº·è¯„åˆ†: ${score}/100`;
                document.getElementById('financial-health-description').textContent = description;
                document.getElementById('risk-signals').innerHTML = riskSignals;
                document.getElementById('financial-analysis-result').style.display = 'block';
            });
            
            // DDMè®¡ç®—
            document.getElementById('calculate-ddm').addEventListener('click', function() {
                const dividend = parseFloat(document.getElementById('dividend').value);
                const discountRate = parseFloat(document.getElementById('discount-rate').value) / 100;
                const growthRate = parseFloat(document.getElementById('growth-rate').value) / 100;
                
                if (discountRate <= growthRate) {
                    document.getElementById('ddm-result').innerHTML = `<p style="color: var(--accent);">é”™è¯¯ï¼šå¿…è¦æ”¶ç›Šç‡å¿…é¡»å¤§äºå¢é•¿ç‡</p>`;
                    return;
                }
                
                const value = dividend / (discountRate - growthRate);
                document.getElementById('ddm-result').innerHTML = `<p>åŸºäºDDMæ¨¡å‹ï¼Œæ¯è‚¡ä»·å€¼ä¸º: <strong>${value.toFixed(2)}å…ƒ</strong></p>`;
                
                valuationResults.ddm = value;
                updateValuationSummary();
                updateValuationChart();
            });
            
            // å¸‚ç›ˆç‡æ³•è®¡ç®—
            document.getElementById('calculate-pe').addEventListener('click', function() {
                const eps = parseFloat(document.getElementById('eps').value);
                const peRatio = parseFloat(document.getElementById('pe-ratio').value);
                
                const value = eps * peRatio;
                document.getElementById('pe-result').innerHTML = `<p>åŸºäºå¸‚ç›ˆç‡æ³•ï¼Œæ¯è‚¡ä»·å€¼ä¸º: <strong>${value.toFixed(2)}å…ƒ</strong></p>`;
                
                valuationResults.pe = value;
                updateValuationSummary();
                updateValuationChart();
            });
            
            // DCFè®¡ç®—
            document.getElementById('calculate-dcf').addEventListener('click', function() {
                const fcf = parseFloat(document.getElementById('fcf').value);
                const growthRate = parseFloat(document.getElementById('dcf-growth').value) / 100;
                const discountRate = parseFloat(document.getElementById('dcf-discount').value) / 100;
                
                // ç®€åŒ–DCFè®¡ç®—ï¼Œå‡è®¾æ°¸ç»­å¢é•¿
                const value = fcf / (discountRate - growthRate);
                document.getElementById('dcf-result').innerHTML = `<p>åŸºäºDCFæ¨¡å‹ï¼Œæ¯è‚¡ä»·å€¼ä¸º: <strong>${value.toFixed(2)}å…ƒ</strong></p>`;
                
                valuationResults.dcf = value;
                updateValuationSummary();
                updateValuationChart();
            });
            
            // æ£€æŸ¥é£é™©ç­”æ¡ˆ
            document.getElementById('check-risk-answers').addEventListener('click', function() {
                let correctCount = 0;
                const questions = ['risk-question-1', 'risk-question-2', 'risk-question-3'];
                
                questions.forEach(questionId => {
                    const select = document.getElementById(questionId);
                    const selectedOption = select.options[select.selectedIndex];
                    
                    if (selectedOption.hasAttribute('data-correct')) {
                        correctCount++;
                        select.style.borderColor = 'var(--success)';
                    } else {
                        select.style.borderColor = 'var(--accent)';
                    }
                });
                
                let resultText = '';
                if (correctCount === 3) {
                    resultText = `<p style="color: var(--success);">ä¼˜ç§€ï¼æ‚¨æ­£ç¡®è¯†åˆ«äº†æ‰€æœ‰è´¢åŠ¡é£é™©ç±»å‹ã€‚</p>`;
                } else if (correctCount >= 1) {
                    resultText = `<p>æ‚¨æ­£ç¡®è¯†åˆ«äº† ${correctCount}/3 ä¸ªé£é™©ç±»å‹ã€‚è¯·ç»§ç»­å­¦ä¹ è´¢åŠ¡é£é™©è¯†åˆ«ã€‚</p>`;
                } else {
                    resultText = `<p style="color: var(--accent);">æ‚¨å°šæœªæ­£ç¡®è¯†åˆ«ä»»ä½•é£é™©ç±»å‹ã€‚è¯·å¤ä¹ è´¢åŠ¡é£é™©ç›¸å…³çŸ¥è¯†ã€‚</p>`;
                }
                
                document.getElementById('risk-answers-result').innerHTML = resultText;
                document.getElementById('risk-answers-result').style.display = 'block';
            });
            
            // åˆå§‹åŒ–è´¢åŠ¡æŠ¥è¡¨å’Œä¼°å€¼å›¾è¡¨
            updateFinancialStatements(companies[currentCompany].financials);
            updateFinancialRatios(companies[currentCompany].financials);
            initValuationChart();
            updateValuationSummary();
        }
        
        // æ›´æ–°è´¢åŠ¡æŠ¥è¡¨æ•°æ®
        function updateFinancialStatements(financials) {
            // æ›´æ–°åˆ©æ¶¦è¡¨
            const incomeStatement = document.getElementById('income-statement');
            incomeStatement.innerHTML = `
                <div class="statement-item">
                    <span>è¥ä¸šæ”¶å…¥</span>
                    <span>${financials.revenue.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>è¥ä¸šæˆæœ¬</span>
                    <span>${financials.operatingCosts.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>æ¯›åˆ©æ¶¦</span>
                    <span>${financials.grossProfit.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>è¥ä¸šè´¹ç”¨</span>
                    <span>${financials.operatingExpenses.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>è¥ä¸šåˆ©æ¶¦</span>
                    <span>${financials.operatingProfit.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>å‡€åˆ©æ¶¦</span>
                    <span>${financials.netIncome.toFixed(1)}äº¿å…ƒ</span>
                </div>
            `;
            
            // æ›´æ–°èµ„äº§è´Ÿå€ºè¡¨
            const balanceSheet = document.getElementById('balance-sheet');
            balanceSheet.innerHTML = `
                <div class="statement-item">
                    <span>ç°é‡‘åŠç­‰ä»·ç‰©</span>
                    <span>${financials.cash.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>åº”æ”¶è´¦æ¬¾</span>
                    <span>${financials.receivables.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>å­˜è´§</span>
                    <span>${financials.inventory.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>å›ºå®šèµ„äº§</span>
                    <span>${financials.fixedAssets.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>æ€»èµ„äº§</span>
                    <span>${financials.totalAssets.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>æ€»è´Ÿå€º</span>
                    <span>${financials.totalLiabilities.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>è‚¡ä¸œæƒç›Š</span>
                    <span>${financials.equity.toFixed(1)}äº¿å…ƒ</span>
                </div>
            `;
            
            // æ›´æ–°ç°é‡‘æµé‡è¡¨
            const cashflowStatement = document.getElementById('cashflow-statement');
            cashflowStatement.innerHTML = `
                <div class="statement-item">
                    <span>ç»è¥æ´»åŠ¨ç°é‡‘æµ</span>
                    <span>${financials.operatingCashFlow.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>æŠ•èµ„æ´»åŠ¨ç°é‡‘æµ</span>
                    <span>${financials.investingCashFlow.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>ç­¹èµ„æ´»åŠ¨ç°é‡‘æµ</span>
                    <span>${financials.financingCashFlow.toFixed(1)}äº¿å…ƒ</span>
                </div>
                <div class="statement-item">
                    <span>ç°é‡‘å‡€å¢åŠ </span>
                    <span>${financials.netCashChange.toFixed(1)}äº¿å…ƒ</span>
                </div>
            `;
        }
        
        // æ›´æ–°è´¢åŠ¡æ¯”ç‡
        function updateFinancialRatios(financials) {
            // æ›´æ–°ç›ˆåˆ©èƒ½åŠ›æ¯”ç‡
            const profitabilityRatios = document.getElementById('profitability-ratios');
            profitabilityRatios.innerHTML = `
                <div class="statement-item">
                    <span>æ¯›åˆ©ç‡</span>
                    <span>${financials.grossMargin.toFixed(1)}%</span>
                </div>
                <div class="statement-item">
                    <span>å‡€åˆ©ç‡</span>
                    <span>${financials.netMargin.toFixed(1)}%</span>
                </div>
                <div class="statement-item">
                    <span>ROE (å‡€èµ„äº§æ”¶ç›Šç‡)</span>
                    <span>${financials.roe.toFixed(1)}%</span>
                </div>
                <div class="statement-item">
                    <span>ROA (æ€»èµ„äº§æ”¶ç›Šç‡)</span>
                    <span>${financials.roa.toFixed(1)}%</span>
                </div>
            `;
            
            // æ›´æ–°å¿å€ºèƒ½åŠ›æ¯”ç‡
            const solvencyRatios = document.getElementById('solvency-ratios');
            solvencyRatios.innerHTML = `
                <div class="statement-item">
                    <span>æµåŠ¨æ¯”ç‡</span>
                    <span>${financials.currentRatio.toFixed(1)}</span>
                </div>
                <div class="statement-item">
                    <span>é€ŸåŠ¨æ¯”ç‡</span>
                    <span>${financials.quickRatio.toFixed(1)}</span>
                </div>
                <div class="statement-item">
                    <span>èµ„äº§è´Ÿå€ºç‡</span>
                    <span>${financials.debtRatio.toFixed(1)}%</span>
                </div>
                <div class="statement-item">
                    <span>åˆ©æ¯ä¿éšœå€æ•°</span>
                    <span>${financials.interestCoverage.toFixed(1)}</span>
                </div>
            `;
            
            // æ›´æ–°è¥è¿èƒ½åŠ›æ¯”ç‡
            const efficiencyRatios = document.getElementById('efficiency-ratios');
            efficiencyRatios.innerHTML = `
                <div class="statement-item">
                    <span>åº”æ”¶è´¦æ¬¾å‘¨è½¬ç‡</span>
                    <span>${financials.receivablesTurnover.toFixed(1)}</span>
                </div>
                <div class="statement-item">
                    <span>å­˜è´§å‘¨è½¬ç‡</span>
                    <span>${financials.inventoryTurnover.toFixed(1)}</span>
                </div>
                <div class="statement-item">
                    <span>æ€»èµ„äº§å‘¨è½¬ç‡</span>
                    <span>${financials.assetTurnover.toFixed(1)}</span>
                </div>
            `;
        }
        
        // è®¡ç®—è´¢åŠ¡å¥åº·è¯„åˆ†
        function calculateFinancialHealthScore(financials) {
            let score = 100;
            
            // ç›ˆåˆ©èƒ½åŠ›è¯„åˆ†
            if (financials.netIncome < 0) score -= 30;
            else if (financials.netIncome / financials.revenue < 0.05) score -= 15;
            
            // å¿å€ºèƒ½åŠ›è¯„åˆ†
            const debtRatio = financials.debtRatio / 100;
            if (debtRatio > 0.7) score -= 20;
            else if (debtRatio > 0.5) score -= 10;
            
            // ç°é‡‘æµè¯„åˆ†
            if (financials.operatingCashFlow < 0) score -= 20;
            else if (financials.operatingCashFlow / financials.revenue < 0.1) score -= 10;
            
            // å¢é•¿æ€§è¯„åˆ†
            // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…ä¸­éœ€è¦å†å²æ•°æ®
            if (financials.revenue < 10) score -= 10;
            
            return Math.max(0, score);
        }
        
        // è·å–è´¢åŠ¡å¥åº·æè¿°
        function getFinancialHealthDescription(score) {
            if (score >= 80) {
                return "å…¬å¸è´¢åŠ¡çŠ¶å†µå¥åº·ï¼Œç›ˆåˆ©èƒ½åŠ›å¼ºï¼Œè´Ÿå€ºæ°´å¹³åˆç†ï¼Œç°é‡‘æµå……è£•ã€‚";
            } else if (score >= 60) {
                return "å…¬å¸è´¢åŠ¡çŠ¶å†µä¸€èˆ¬ï¼Œå­˜åœ¨ä¸€äº›é£é™©å› ç´ ï¼Œéœ€è¦å…³æ³¨ã€‚";
            } else if (score >= 40) {
                return "å…¬å¸è´¢åŠ¡çŠ¶å†µè¾ƒå·®ï¼Œå­˜åœ¨æ˜æ˜¾é£é™©ï¼ŒæŠ•èµ„éœ€è°¨æ…ã€‚";
            } else {
                return "å…¬å¸è´¢åŠ¡çŠ¶å†µæ¶åŠ£ï¼Œå­˜åœ¨ä¸¥é‡é£é™©ï¼Œå»ºè®®é¿å…æŠ•èµ„ã€‚";
            }
        }
        
        // è·å–é£é™©ä¿¡å·
        function getRiskSignals(financials) {
            let signals = '';
            
            if (financials.netIncome < 0) {
                signals += '<p>âŒ å…¬å¸å¤„äºäºæŸçŠ¶æ€ï¼Œç›ˆåˆ©èƒ½åŠ›å­˜åœ¨é—®é¢˜</p>';
            }
            
            if (financials.debtRatio > 70) {
                signals += '<p>âŒ è´Ÿå€ºç‡è¿‡é«˜ï¼Œå¿å€ºå‹åŠ›å¤§</p>';
            }
            
            if (financials.operatingCashFlow < 0) {
                signals += '<p>âŒ ç»è¥æ´»åŠ¨ç°é‡‘æµä¸ºè´Ÿï¼Œä¾èµ–å¤–éƒ¨èèµ„</p>';
            }
            
            if (financials.netIncome > 0 && financials.operatingCashFlow < 0) {
                signals += '<p>âŒ åˆ©æ¶¦ä¸ç°é‡‘æµä¸åŒ¹é…ï¼Œå¯èƒ½å­˜åœ¨æ”¶å…¥è´¨é‡é—®é¢˜</p>';
            }
            
            if (signals === '') {
                signals = '<p>âœ… æœªå‘ç°æ˜æ˜¾é£é™©ä¿¡å·</p>';
            }
            
            return signals;
        }
        
        // æ›´æ–°ä¼°å€¼æ±‡æ€»
        function updateValuationSummary() {
            const summaryContainer = document.getElementById('valuation-summary');
            let summaryHTML = '';
            
            if (valuationResults.ddm !== null) {
                summaryHTML += `
                    <div class="summary-card">
                        <div class="summary-title">DDMä¼°å€¼</div>
                        <div class="summary-value">${valuationResults.ddm.toFixed(2)}å…ƒ</div>
                    </div>
                `;
            }
            
            if (valuationResults.pe !== null) {
                summaryHTML += `
                    <div class="summary-card">
                        <div class="summary-title">P/Eä¼°å€¼</div>
                        <div class="summary-value">${valuationResults.pe.toFixed(2)}å…ƒ</div>
                    </div>
                `;
            }
            
            if (valuationResults.dcf !== null) {
                summaryHTML += `
                    <div class="summary-card">
                        <div class="summary-title">DCFä¼°å€¼</div>
                        <div class="summary-value">${valuationResults.dcf.toFixed(2)}å…ƒ</div>
                    </div>
                `;
            }
            
            if (summaryHTML === '') {
                summaryHTML = '<p>è¯·ä½¿ç”¨è‡³å°‘ä¸€ç§ä¼°å€¼æ–¹æ³•è¿›è¡Œè®¡ç®—</p>';
            }
            
            summaryContainer.innerHTML = summaryHTML;
        }
        
        // æ›´æ–°ä¼°å€¼å›¾è¡¨
        function updateValuationChart() {
            if (!valuationChart) return;
            
            const labels = [];
            const data = [];
            const colors = [];
            
            if (valuationResults.ddm !== null) {
                labels.push('DDM');
                data.push(valuationResults.ddm);
                colors.push('rgba(52, 152, 219, 0.7)');
            }
            
            if (valuationResults.pe !== null) {
                labels.push('P/E');
                data.push(valuationResults.pe);
                colors.push('rgba(46, 204, 113, 0.7)');
            }
            
            if (valuationResults.dcf !== null) {
                labels.push('DCF');
                data.push(valuationResults.dcf);
                colors.push('rgba(155, 89, 182, 0.7)');
            }
            
            valuationChart.data.labels = labels;
            valuationChart.data.datasets[0].data = data;
            valuationChart.data.datasets[0].backgroundColor = colors;
            valuationChart.update();
        }
        
        // åˆå§‹åŒ–ä¼°å€¼å›¾è¡¨
        function initValuationChart() {
            const ctx = document.getElementById('valuation-chart').getContext('2d');
            
            valuationChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'ä¼°å€¼ç»“æœ (å…ƒ)',
                        data: [],
                        backgroundColor: [],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'ä¼°å€¼ (å…ƒ)'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }
        
        // åˆå§‹åŒ–åº”ç”¨
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>